---
keywords: Experience Platform；首頁；熱門主題
solution: Experience Platform
title: Adobe隱私JavaScript庫概述
topic-legacy: overview
description: Adobe隱私JavaScript庫允許您檢索資料主題標識以在Privacy Service中使用。
exl-id: 757bf69e-25bf-4ef9-9787-3e74b213908a
source-git-commit: 47a94b00e141b24203b01dc93834aee13aa6113c
workflow-type: tm+mt
source-wordcount: '1012'
ht-degree: 6%

---

# Adobe隱私JavaScript庫概述

作為資料處理器，Adobe根據您公司的許可和說明處理個人資料。 身為資料控管方，您可以決定要由 Adobe 代表您處理和儲存哪些個人資料。根據您選擇通過Adobe Experience Cloud解決方案發送的資訊，Adobe可以儲存適用於隱私法規(如 [!DNL General Data Protection Regulation] (GDPR) [!DNL California Consumer Privacy Act] (CCPA)。 查看上的文檔 [Adobe Experience Cloud隱私](https://www.adobe.com/tw/privacy/marketing-cloud.html) 的子菜單。

的 **Adobe隱私JavaScript庫** 允許資料控制器自動檢索由 [!DNL Experience Cloud] 特定域的解決方案。 使用由提供的API [Adobe Experience Platform Privacy Service](home.md)然後，這些標識可用於建立對屬於這些資料主題的私有資料的訪問和刪除請求。

>[!NOTE]
>
>的 [!DNL Privacy JS Library] 通常只需在與隱私相關的頁面上安裝，也不需要在網站或域的所有頁面上安裝。

## 函式

的 [!DNL Privacy JS Library] 提供了在中管理身份的幾項功能 [!DNL Privacy Service]。 這些功能只能用於管理儲存在特定訪問者瀏覽器中的標識。 它們不能用於向 [!DNL Experience Cloud Central Service] 直接輸入。

下表概述了庫提供的不同功能：

| 函數 | 說明 |
| --- | --- |
| `retrieveIdentities` | 返回匹配標識陣列(`validIds`) [!DNL Privacy Service]，以及找不到的一組標識(`failedIds`)。 |
| `removeIdentities` | 從瀏覽器中刪除每個匹配（有效）標識。 返回匹配標識陣列(`validIds`)，每個標識都包含 `isDeletedClientSide` 布爾值，指示是否已刪除此ID。 |
| `retrieveThenRemoveIdentities` | 檢索匹配標識陣列(`validIds`)，然後從瀏覽器中刪除這些標識。 此函式與 `removeIdentities`，當您使用的Adobe解決方案要求訪問請求才能刪除時（例如，在刪除請求中提供唯一標識符之前必須檢索到該標識符時），最好使用它。 |

>[!NOTE]
>
>`removeIdentities` 和 `retrieveThenRemoveIdentities` 僅從瀏覽器中刪除支援它們的特定Adobe解決方案的標識。 例如，Adobe Audience Manager不刪除儲存在第三方Cookie中的demdex ID ，而Adobe Target則刪除儲存其ID的所有Cookie。

由於所有這三個函式都代表非同步進程，因此任何檢索到的標識都必須使用回調或承諾進行處理。


## 安裝

開始使用 [!DNL Privacy JS Library]，必須使用以下方法之一將其安裝到電腦上：

* 通過運行以下命令使用npm進行安裝： `npm install @adobe/adobe-privacy`
* 從 [Experience CloudGitHub儲存庫](https://github.com/Adobe-Marketing-Cloud/adobe-privacy)

您還可以通過資料收集UI中的標籤擴展來安裝庫。 請參閱 [Adobe隱私標籤擴展](../tags/extensions/web/privacy/overview.md) 的子菜單。

## 實例化 [!DNL Privacy JS Library]

利用 [!DNL Privacy JS Library] 必須實例化新 `AdobePrivacy` 對象，必須配置為特定Adobe解決方案。 例如，Adobe Analytics的實例化將類似於以下內容：

```js
var adobePrivacy = new AdobePrivacy({
    imsOrgID: "{ORG_ID}",
    reportSuite: "{REPORT_SUITE_ID}",
    trackingServer: "{SERVER_URL}",
    clientCode: "{TARGET_CLIENT_CODE}"
});
```

有關不同Adobe解決方案支援的參數的完整清單，請參見附錄部分，介紹受支援的 [Adobe解配置參數](#adobe-solution-configuration-parameters)。

## 程式碼範例 {#samples}

以下代碼示例演示如何使用 [!DNL Privacy JS Library] 如果您沒有使用標籤，則對於幾個常見方案。

### 擷取身分

此示例演示如何從中檢索標識清單 [!DNL Experience Cloud]。

#### JavaScript

下面的代碼定義了函式， `handleRetrievedIDs`，用作回調或承諾來處理由 `retrieveIdentities`。

```javascript
function handleRetrievedIDs(ids) {
    const validIDs = ids.validIDs;
    const failedIDs = ids.failedIDs;
}

// If using callbacks:
adobePrivacy.retrieveIdentities(handleRetrievedIDs);

// If using promises:
adobePrivacy.retrieveIdentities().then(handleRetrievedIDs);
```

| 變數 | 說明 |
| --- | --- |
| `validIds` | 包含已成功檢索的所有ID的JSON對象。 |
| `failedIDs` | 包含所有未從中檢索的ID的JSON對象 [!DNL Privacy Service]，或找不到其他。 |

#### 結果

如果代碼執行成功， `validIDs` 將填充檢索到的身份清單。

```json
{
    "company": "adobe",
    "namespace": "ECID",
    "namespaceId": 4,
    "type": "standard",
    "name": "Experience Cloud ID",
    "description": "This is the ID generated by the ID Service.",
    "value": "79352169365966186342525781172209986543"
},
{
    "company": "adobe",
    "namespace": "gsurfer_id",
    "namespaceId": 411,
    "type": "standard",
    "value": "WqmIJQAAB669Ciao"
}
```

### 移除身分

此示例演示如何從瀏覽器中刪除標識清單。

#### JavaScript

下面的代碼定義了函式， `handleRemovedIDs`，用作回調或承諾來處理由 `removeIdentities` 從瀏覽器中刪除。

```javascript
function handleRemovedIDs(ids) {
    const validIDs = ids.validIDs;
    const failedIDs = ids.failedIDs;
}

// If using callbacks:
adobePrivacy.removeIdentities(handleRemovedIDs);

// If using promises:
adobePrivacy.removeIdentities().then(handleRemovedIDs)…
```

| 變數 | 說明 |
| --- | --- |
| `validIds` | 包含已成功檢索的所有ID的JSON對象。 |
| `failedIDs` | 包含所有未從中檢索的ID的JSON對象 [!DNL Privacy Service]，或找不到其他。 |

#### 結果

如果代碼執行成功， `validIDs` 將填充檢索到的身份清單。

```json
{
    "company": "adobe",
    "namespace": "ECID",
    "namespaceId": 4,
    "type": "standard",
    "name": "Experience Cloud ID",
    "description": "This is the ID generated by the ID Service.",
    "value": "79352169365966186342525781172209986543",
    "isDeletedClientSide": false
},
{
    "company": "adobe",
    "namespace": "AMO",
    "namespaceId": 411,
    "type": "standard",
    "value": "WqmIJQAAB669Ciao",
    "isDeletedClientSide": true
}
```

## 後續步驟

通過閱讀本文檔，您已瞭解 [!DNL Privacy JS Library]。 使用庫檢索標識清單後，您可以使用這些標識建立資料存取和刪除對 [!DNL Privacy Service] API。 查看 [Privacy ServiceAPI指南](api/overview.md) 的子菜單。

## 附錄

本節包含使用 [!DNL Privacy JS Library]。

### Adobe解配置參數 {#config-params}

以下是支援的Adobe解決方案的接受配置參數清單，在 [實例化AdobePrivacy對象](#instantiate-the-privacy-js-library)。

**所有解決方案**

| 參數 | 說明 |
| --- | --- |
| `key` | 標識用戶或資料主題的唯一ID。 此屬性用於您自己的內部跟蹤目的，不用於Adobe。 |

**Adobe Analytics**

| 參數 | 說明 |
| --- | --- |
| `cookieDomainPeriods` | 域中用於Cookie跟蹤的期間數(預設為 `2`，例如 `.domain.com`)。 除非在JavaScript Web信標中指定，否則不要在此處定義它。 |
| `dataCenter` | Adobe資料收集資料中心。 僅當在JavaScript Web信標中指定時，才應包括此內容。 潛在值為： <ul><li>`d1`:聖何塞資料中心</li><li>`d2`:達拉斯資料中心</li></ul> |
| `reportSuite` | 在JavaScript Web信標中指定的報表套件ID(例如， `s_code.js` 或 `dtm`)。 |
| `trackingServer` | 非SSL資料收集域。 僅當在JavaScript Web信標中指定時，才應包括此內容。 |
| `trackingServerSecure` | SSL資料收集域。 僅當在JavaScript Web信標中指定時，才應包括此內容。 |
| `visitorNamespace` | 用於對訪問者進行分組的命名空間。 僅當在JavaScript Web信標中指定時，才應包括此內容。 |

**Adobe Audience Manager**

| 參數 | 說明 |
| --- | --- |
| `aamUUIDCookieName` | 包含從Adobe Audience Manager返回的唯一用戶ID的第一方cookie的名稱。 |

**Adobe Experience Cloud身份服務(ECID)**

| 參數 | 說明 |
| --- | --- |
| `imsOrgID` | 您的IMS組織ID。 |

**Adobe Target**

| 參數 | 說明 |
| --- | --- |
| `clientCode` | 標識Adobe Target系統中客戶端的客戶端代碼。 |
