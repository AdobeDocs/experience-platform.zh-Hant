---
keywords: Experience Platform；設定檔；即時客戶設定檔；疑難排解；護欄；准則；限制；實體；主要實體；維度實體；
title: 即時客戶設定檔資料的護欄
solution: Experience Platform
product: experience platform
type: Documentation
description: Adobe Experience Platform提供一系列護欄，協助您避免建立「即時客戶設定檔」無法支援的資料模型。 本檔案概述在建立描述檔資料模型時應留意的最佳實務和限制。
exl-id: 33ff0db2-6a75-4097-a9c6-c8b7a9d8b78c
source-git-commit: c351ee91367082cc5fbfc89da50aa2db5e415ea8
workflow-type: tm+mt
source-wordcount: '1962'
ht-degree: 1%

---

# [!DNL Real-time Customer Profile]資料的護欄

[!DNL Real-time Customer Profile] 提供個別設定檔，讓您能夠根據行為分析和客戶屬性提供個人化的跨管道體驗。為了達成此目標，[!DNL Profile]和Adobe Experience Platform內的分段引擎使用高度非正常的混合資料模型，此模型提供開發客戶設定檔的新方法。 使用此混合資料模型，必須正確建模所收集的資料。 雖然[!DNL Profile]資料儲存區維護配置檔案資料不是關係儲存區，但[!DNL Profile]允許與小維實體整合，以便以簡化和直觀的方式建立段。 此整合稱為多實體分段。

Adobe Experience Platform提供了一系列護欄，幫助您避免建立[!DNL Real-time Customer Profile]無法支援的資料模型。 本檔案概述使用設定檔資料進行細分時的這些護欄、最佳作法和限制。

>[!NOTE]
>
>本檔案中概述的護欄和限制正在不斷改進。 請定期回來查看更新。

## 快速入門

建議您先閱讀下列Experience Platform服務檔案，再嘗試建立資料模型以用於[!DNL Real-time Customer Profile]。 使用資料模型以及本文檔中概述的護欄要求了解與管理[!DNL Real-time Customer Profile]實體相關的各種Experience Platform服務：

* [[!DNL Real-time Customer Profile]](home.md):根據來自多個來源的匯總資料，提供統一的即時消費者設定檔。
* [Adobe Experience Platform Identity Service](../identity-service/home.md):支援建立「客戶的單一檢視」，方法是在擷取時從不同的資料來源橋接身分，以利將其 [!DNL Platform]整合。
* [[!DNL Experience Data Model (XDM)]](../xdm/home.md):Platform用來組織客戶體驗資料的標準化架構。
   * [結構構成基本概念](../xdm/schema/composition.md):介紹Experience Platform中的結構描述和資料模型。
* [Adobe Experience Platform區段服務](../segmentation/home.md):內的區段引 [!DNL Platform] 擎，用於根據客戶行為和屬性，從客戶設定檔建立受眾區段。
   * [多實體細分](../segmentation/multi-entity-segmentation.md):建立將維度實體與設定檔資料整合之區段的指南。

## 實體類型

[!DNL Profile]儲存資料模型由兩個核心實體類型組成：

* **主要實體：** 主要實體或設定檔實體會合併資料，以形成個人的「單一真相來源」。此統一資料會使用所謂的「聯合檢視」來表示。 聯合檢視會將實施相同類別之所有結構的欄位匯總至單一聯合結構。 [!DNL Real-time Customer Profile]的聯合結構是非正常的混合資料模型，可作為所有設定檔屬性和行為事件的容器。

   使用[!DNL XDM Individual Profile]建模與時間無關的屬性（也稱為「記錄資料」），而使用[!DNL XDM ExperienceEvent]建模時間序列資料（也稱為「事件資料」）。 在Adobe Experience Platform中擷取記錄和時間序列資料時，會觸發[!DNL Real-time Customer Profile]以開始擷取已啟用供其使用的資料。 擷取的互動和詳細資訊越多，個別設定檔就越健全。

   ![](images/guardrails/profile-entity.png)

* **Dimension實體：** 您的組織也可以定義XDM類別，以說明個人以外的項目，例如商店、產品或屬性。這些非[!DNL XDM Individual Profile]結構稱為「維實體」，不包含時間序列資料。 Dimension實體提供查閱資料，這有助於並簡化多實體區段定義，且必須足夠小，以便區段引擎能將整個資料集載入記憶體，以獲得最佳處理（快速點查閱）。

   ![](images/guardrails/profile-and-dimension-entities.png)

## 限制類型

定義資料模型時，建議您保持在提供的護欄內，以確保正確的效能並避免系統錯誤。

本文檔中提供的護欄包括兩種限制類型：

* **軟限制：** 軟限制提供建議的最大值，以獲得最佳系統效能。在不中斷系統或接收錯誤消息的情況下可以超出軟限制，但超出軟限制將導致效能降低。 建議您保持在軟限制內，以避免整體效能降低。

* **硬限制：** 硬限制為系統提供絕對最大值。超出硬限制將導致中斷和錯誤，使系統無法如預期般運作。

## 設定檔片段

在本檔案中，有數個護欄指的是「設定檔片段」。 在Experience Platform中，多個設定檔片段會合併在一起，以形成即時客戶設定檔。 每個片段代表指定資料集內該ID的唯一主要身分以及對應的記錄或事件資料。 若要進一步了解設定檔片段，請參閱[設定檔概述](home.md#profile-fragments-vs-merged-profiles)。

## 資料模型護欄

建立資料模型以用於[!DNL Real-time Customer Profile]時，建議遵守下列護欄。

### 主實體護欄

| 瓜德拉伊 | 限制 | 限制類型 | 說明 |
| --- | --- | --- | --- |
| 啟用設定檔的資料集數 | 20 | 軟 | **聯合結構最多可能貢獻20 [!DNL Profile] 個資料集。** 若要為啟用其他資 [!DNL Profile]料集，應先移除或停用現有資料集。20個資料集的限制包含其他Adobe解決方案(例如Adobe Analytics)的資料集。 |
| 為設定檔啟用的Adobe Analytics報表套裝資料集數量 | 1 | 軟 | **設定檔最多應啟用一(1)個Analytics報表套裝資料集。** 嘗試為設定檔啟用多個Analytics報表套裝資料集，可能會對資料品質造成非預期的後果。如需詳細資訊，請參閱本檔案附錄中[Adobe Analytics資料集](#aa-datasets)的區段。 |
| 建議的多實體關係數 | 5 | 軟 | **建議在主實體和維實體之間定義最多5個多實體關係。** 在刪除或禁用現有關係之前，不應進行其他關係映射。 |
| 用於多實體關係之ID欄位的最大JSON深度 | 4 | 軟 | **在多實體關係中使用的ID欄位，建議的JSON深度上限為4。** 這表示在高度巢狀結構中，深度巢狀超過4個層級的欄位，不應作為關係中的ID欄位使用。 |
| 設定檔片段中的陣列基數 | &lt;=500 | 軟 | **設定檔片段（時間無關資料）中的最佳陣列基數為  &lt;>** |
| ExperienceEvent中的陣列基數 | &lt;=10 | 軟 | **ExperienceEvent（時間序列資料）中的最佳陣列基數為  &lt;>** |
| 個別設定檔身分圖表的身分計數限制 | 50 | 硬 | **個別設定檔的身分圖表中，身分的最大數量為50。** 任何身分超過50個的設定檔，都會從區段、匯出和查詢中排除。 |

### Dimension實體護欄

| 瓜德拉伊 | 限制 | 限制類型 | 說明 |
| --- | --- | --- | --- |
| 不允許對非 — [!DNL XDM Individual Profile]實體使用時間序列資料 | 0 | 硬 | **設定檔服務中的非實體不允[!DNL XDM Individual Profile] 許使用時間序列資料。** 如果時間系列資料集與非ID相[!DNL XDM Individual Profile] 關聯，則不應為啟用資 [!DNL Profile]料集。 |
| 無嵌套關係 | 0 | 軟 | **請勿在兩個非結構之間建立[!DNL XDM Individual Profile] 關係。** 對於不屬於聯合架構的任何架構，不建議使用建立關係 [!DNL Profile] 的功能。 |
| 主要ID欄位的最大JSON深度 | 4 | 軟 | **主要ID欄位的建議最大JSON深度為4。** 這表示在高度巢狀結構中，如果欄位的深度巢狀超過4個層級，則不應選取該欄位作為主要ID。位於第4個巢狀層級的欄位可作為主要ID。 |

## 資料大小護欄

以下護欄是指資料大小，建議您確保資料可如預期擷取、儲存及查詢。

>[!NOTE]
>
>擷取時，資料大小會在JSON中以解壓縮資料的形式測量。

### 主實體護欄

| 瓜德拉伊 | 限制 | 限制類型 | 說明 |
| --- | --- | --- | --- |
| 最大ExperienceEvent大小 | 10 KB | 硬 | **事件的大小上限為10KB。** 擷取將繼續，不過會捨棄任何超過10KB的事件。 |
| 最大配置檔案記錄大小 | 100 KB | 硬 | **設定檔記錄的最大大小為100KB。** 將繼續擷取，但會捨棄大於100KB的設定檔記錄。 |
| 最大配置檔案片段大小 | 50MB | 硬 | **單一設定檔片段的最大大小為50MB。** 大於50MB的任何設定檔片段 [的](#profile-fragments) 分段、匯出和查詢可能會失敗。 |
| 最大配置檔案儲存大小 | 50MB | 軟 | **儲存的配置檔案的最大大小為50MB。** 將新配 [置](#profile-fragments) 檔案片段添加到大於50MB的配置檔案將影響系統效能。例如，設定檔可包含50MB的單一片段，或包含多個資料集的多個片段，總大小為50MB。 嘗試儲存單個片段大於50MB的配置檔案，或多個片段的總大小超過50MB，將影響系統效能。 |
| 每日擷取的設定檔或ExperienceEvent批次數 | 90 | 軟 | **每日擷取的Profile或ExperienceEvent批次數上限為90。** 這表示每天擷取的Profile和ExperienceEvent批次總計不得超過90個。接收其他批次將影響系統效能。 |

### Dimension實體護欄

| 瓜德拉伊 | 限制 | 限制類型 | 說明 |
| --- | --- | --- | --- |
| 所有維圖元的最大總大小 | 5 GB   | 軟 | **所有維度實體的建議總大小上限為5GB。** 獲取大維實體將導致系統效能降低。例如，不建議您嘗試將10GB產品目錄載入為維度實體。 |
| 每維實體結構的資料集 | 5 | 軟 | **建議最多使用5個與每個維度實體結構相關的資料集。** 例如，如果您為「產品」建立結構，並新增五個貢獻資料集，則不應建立與產品結構相連結的第六個資料集。 |
| 每天擷取的維度實體批次數 | 每個實體4 | 軟 | **每天擷取的維度實體批次數上限為每個實體4個。** 例如，您每天最多可以擷取4次產品目錄的更新。為同一實體獲取其他維實體批次將影響系統效能。 |

## 分段護欄

本節中概述的護欄是指組織可在Experience Platform內建立的區段數量和性質，以及將區段對應和啟用至目的地。

| 瓜德拉伊 | 限制 | 限制類型 | 說明 |
| --- | --- | --- | --- |
| 每個沙箱的區段數上限 | 10K | 軟 | **組織可建立的區段數上限為每個沙箱10,000個。** 只要每個個別沙箱中的區段少於10,000個，組織總共可以有超過10,000個區段。嘗試建立其他段將導致系統效能降低。 |
| 每個沙箱的最大串流區段數 | 500 | 軟 | **組織可建立的串流區段數上限為每個沙箱500個。** 只要每個沙箱中的串流區段少於500個，一個組織總共可以有超過500個串流區段。嘗試建立其他串流區段會導致系統效能降低。 |
| 每個沙箱的批次區段數上限 | 1萬 | 軟 | **組織可建立的批次區段數上限為每個沙箱10,000個。** 只要每個個別沙箱中的批次區段少於10,000個，組織總共可以有超過10,000個批次區段。嘗試建立其他批處理段將導致系統效能降低。 |

## 附錄

本節提供了各個護欄的其他詳細資訊。

### Adobe Analytics Platform中的報表套裝資料集 {#aa-datasets}

設定檔最多應啟用一(1)個Adobe Analytics報表套裝資料集。 這是軟式限制，表示您可以為「設定檔」啟用多個Analytics資料集，但不建議使用，因為這可能會對您的資料造成非預期的後果。 這是因為Experience Data Model(XDM)結構之間的差異，這些結構提供Experience Platform中資料的語義結構，並允許資料解譯的一致性，以及Adobe Analytics中eVar和轉換變數的可自訂性質。

例如，在Adobe Analytics中，單一組織可能有多個報表套裝。 如果報表套裝A將eVar4指定為「內部搜尋詞」，而報表套裝B將eVar4指定為「反向連結網域」，這些值都會擷取至「設定檔」中的相同欄位，造成混淆並降低資料品質。
