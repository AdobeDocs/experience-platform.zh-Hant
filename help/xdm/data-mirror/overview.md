---
keywords: Experience Platform；資料映象；關聯式架構；變更資料擷取；資料庫同步；主索引鍵；關係
solution: Experience Platform
title: Data Mirror概觀
description: 瞭解Data Mirror如何使用具有強制唯一性、關係和版本設定的關聯式結構描述，將外部資料庫的列層級變更擷取到Adobe Experience Platform。
badge: 有限可用性
exl-id: bb92c77a-6c7a-47df-885a-794cf55811dd
source-git-commit: 57981d2e4306b2245ce0c1cdd9f696065c508a1d
workflow-type: tm+mt
source-wordcount: '1356'
ht-degree: 0%

---

# Data Mirror概觀

>[!AVAILABILITY]
>
>Adobe Journey Optimizer **協調的行銷活動**&#x200B;授權持有人可使用Data Mirror和關聯式結構描述。 視您的授權和功能啟用而定，它們也可作為Customer Journey Analytics使用者的&#x200B;**有限版本**&#x200B;提供。 請聯絡您的Adobe代表以取得存取權。

>[!NOTE]
>
>關聯式結構描述先前在舊版Adobe Experience Platform檔案中稱為模型式結構描述。 功能保持不變。

Data Mirror是Adobe Experience Platform的一項功能，可讓您使用關聯式結構描述，將外部資料庫的列層級變更擷取到Data Lake。 它保留資料關係、強制執行唯一性，並支援版本化，而不需要上游擷取、轉換、載入(ETL)程式。

使用Data Mirror將外部系統（例如[!DNL Snowflake]、[!DNL Databricks]或[!DNL BigQuery]）的插入、更新及刪除（可變資料）直接同步到Experience Platform中。 這有助於您在將資料帶入Platform時，保留現有的資料庫模型結構和資料完整性。

## 功能與優點

Data Mirror提供下列資料庫同步處理的基本功能：

* **主要金鑰強制執行**：確保資料集中的唯一性，並防止擷取期間出現重複記錄。
* **資料列層級變更擷取**：支援精細資料變更，包括具有精確度控制的更新插入與刪除。
* **結構描述關係**：透過描述項啟用資料集之間的外部和主索引鍵關係。
* **順序錯亂事件處理**：使用版本和時間戳記描述元處理變更事件，即使這些事件未按順序到達亦然。
* **直接倉儲整合**：與支援的雲端資料倉儲連線，以近乎即時的變更同步處理。

使用Data Mirror直接從來源系統擷取變更、強制執行結構描述完整性，並讓資料可用於分析、歷程協調及合規性工作流程。 Data Mirror可免除複雜的上游ETL程式，並透過啟用現有資料庫模型的直接映象來加速實作。

透過Data Mirror實施關聯式結構描述時，針對刪除和資料衛生需求進行規劃。 在部署之前，所有應用程式都必須考慮刪除作業如何影響相關資料集、法規遵循工作流程和下游流程。

## 先決條件 {#prerequisites}

開始之前，您應該瞭解Experience Platform的下列元件，並確認您的環境符合技術和結構需求：

* [在Experience Platform UI](../ui/resources/schemas.md)或[API](../api/schemas.md)中建立結構描述
* [設定雲端來源連線](../../sources/home.md#cloud-storage)
* [套用變更資料擷取概念](../../sources/tutorials/api/change-data-capture.md) （更新插入、刪除）
* 區分[標準](../schema/composition.md)和[關聯式結構描述](../schema/relational.md)
* [使用描述項定義結構關係](../api/descriptors.md)

### 實作需求

您的Platform執行個體和來源資料必須符合Data Mirror正常運作的特定要求。 Data Mirror需要&#x200B;**關聯式結構描述**，這些結構描述是具有強制條件約束的彈性資料結構。

在所有結構描述中包含&#x200B;**主索引鍵和版本描述項**。 如果您使用時間序列結構描述，也需要&#x200B;**時間戳記描述項**。

您的外部資料庫必須支援變更資料擷取或提供可識別插入、更新及刪除的中繼資料。 Source資料必須包含&#x200B;**唯一識別碼** （單一欄位或複合主索引鍵）和&#x200B;**版本資訊**，系統才能以正確順序套用更新。

若要偵測刪除，請新增`_change_request_type`欄，指定每個記錄是更新插入還是刪除。

## 實作Data Mirror {#implementation-workflow}

與標準擷取方法不同，Data Mirror會將您的資料庫模型結構保留在Experience Platform Data Lake中。 此資料結構一致性消除了外部預先處理的需要。 以下是高階的Data Mirror實作工作流程。 根據您團隊的工作流程與來源系統，選擇您的實作方法。

### 定義您的結構描述結構

使用必要的描述元（定義結構描述行為和限制的中繼資料）建立[關聯式結構描述](../schema/relational.md)。 透過UI或直接透過API，選擇適合您團隊工作流程的方法。

* **UI方法**： [在結構描述編輯器中建立關聯式結構描述](../ui/resources/schemas.md#create-relational-schema)
* **API方法**： [透過結構描述登入API建立結構描述](../api/schemas.md#create-relational-schema)

### 對應關係並定義資料管理

使用關係描述元定義資料集之間的連線。 跨資料集管理關係並維護資料品質。 這些工作可確保一致的聯結，並支援符合資料衛生要求。

* **結構描述關係**： [使用描述項定義資料集之間的關係](../api/descriptors.md)
* **記錄衛生**： [根據關聯式結構描述管理資料集的Precision記錄刪除](../../hygiene/ui/record-delete.md#relational-record-delete)

### 設定您的來源連線

根據您的來源系統和使用案例選取擷取方法。 每個選項都支援不同層級的自動化、轉換和擴充性。

* [**設定雲端來源連線**](../../sources/home.md#cloud-storage)
* **SQL擷取**：使用Data Distiller寫入關聯式資料集
* [**檔案上傳**](../ui/resources/schemas.md#upload-ddl-file)：手動上傳批次或一次性內嵌的檔案

### 啟用變更資料擷取擷取

透過支援的雲端資料倉儲設定變更資料擷取連線。 擷取列層級變更，同時維持唯一性並以正確順序套用更新。

* **變更資料擷取**： [在來源連線中啟用變更資料擷取](../../sources/tutorials/api/change-data-capture.md)

## 常見使用實例 {#use-cases}

檢閱下列常見使用案例，其中Data Mirror支援精確資料同步和關係儲存。 每個案例都會顯示Data Mirror如何支援跨分析、協調及法規遵循的通用業務需求。

### 關聯式資料模型

在Data Mirror中使用[關聯式結構描述](../schema/relational.md)來表示實體、處理列層級的插入、更新及刪除，以及維護資料來源中存在的主要和外部索引鍵關係。 此方法將關聯式資料模型原則帶入Experience Platform，並確保資料集之間的結構一致性。

### 倉儲到湖同步

將事件資料、客戶互動記錄、行銷活動事件，以及輔助資料從支援的雲端資料倉儲映象至Experience Platform。 這支援行銷活動資格、目標定位精確度和訊息排序。 Journey Optimizer和Real-Time CDP B2B仰賴此實現近乎即時的協調邏輯。

### Customer Journey Analytics整合

同步時間序列事件，例如來自呼叫中心或聊天記錄等系統的網頁點選、產品檢視、購買和支援互動。 完整的變更記錄支援精確的趨勢分析和行為細分。 適用於Customer Journey Analytics的Experience Platform Data Mirror會使用這項功能，反映來源系統的更新插入和刪除。

### B2B關係模式

保留關係，例如，帳戶對連絡人、訂閱對帳戶或連絡人對區域階層。 這些支援細分、潛在客戶評分、機會追蹤和多管道協調。 與將關係平面化的標準擷取不同，Data Mirror會使用描述項以原生方式維護關係，以實現更精確的模型化。

### 訂閱管理

追蹤事件，例如更新、取消、升級、降級，以及具有完整版本歷史記錄的計畫變更。 這支援保留率行銷活動、流失預測和生命週期型細分。 完整歷史記錄可讓使用者進行行為深入分析和精準定位。

### 資料衛生操作

使用變更資料擷取可針對合規性（例如受監管的產業）和清理工作流程啟用精確的記錄層級刪除。 Data Mirror會精確套用刪除，同時保留連線資料集內的相關資料。

## 重要考量 {#considerations}

請檢閱這些關鍵考量事項，以確保您的實施符合支援的結構描述行為、擷取方法和關係模式。 正確的規劃有助於避免整合問題，並確保精確的資料模型化。

### 資料刪除和衛生需求

所有使用關聯式結構描述和Data Mirror的應用程式都必須瞭解資料刪除的關聯。 關聯式結構描述可啟用精確的記錄層級刪除功能，進而影響跨連線資料集的相關資料。 無論您的特定使用案例為何，這些刪除功能都會影響資料完整性、法規遵循和下游應用程式行為。 檢閱以關聯式結構描述[為基礎的資料集的](../../hygiene/ui/record-delete.md#relational-record-delete)資料衛生要求，並在實作前規劃刪除案例。

### 結構描述行為選擇

關聯式結構描述預設為&#x200B;**記錄行為**，可擷取實體狀態（客戶、帳戶等）。 若您需要&#x200B;**時間序列行為**&#x200B;來追蹤事件，您必須明確設定它。

### 擷取方法比較

您可以使用此比較表，選擇符合您資料需求的最佳擷取方法，不論您需要即時同步處理、以SQL為基礎的轉換或手動檔案上傳。

| 擷取方法 | 使用案例 |
| ----------------------- | -------------------------------------------------------------- |
| **變更資料擷取** | 從支援的雲端倉儲即時同步 |
| **資料Distiller** | 以SQL為基礎的擷取和轉換工作流程 |
| **檔案上傳** | 無法使用來源整合時進行批次/手動擷取 |

### 關係限制

Data Mirror使用描述項支援&#x200B;**一對一**&#x200B;和&#x200B;**多對一**&#x200B;關係。 **多對多**&#x200B;關係需要額外的模型化，而且不直接支援。

## 後續步驟

檢閱本概述後，您應該能夠判斷Data Mirror是否符合您的使用案例，並瞭解實作的需求。 若要開始使用：

1. **資料架構師**&#x200B;應該評估您的資料模型，以確保它支援主索引鍵、版本設定和變更追蹤功能。
2. **商務關係人**&#x200B;應確認您的授權包含關聯式結構描述支援和必要的Experience Platform版本。
3. **結構描述設計工具**&#x200B;應該規劃您的結構描述結構，以識別必要的描述元、欄位關係和資料治理需求。
4. **實作團隊**&#x200B;應該根據您的來源系統、即時需求和作業工作流程，選擇擷取方法。

如需實作詳細資料，請參閱[關聯式結構描述檔案](../schema/relational.md)。
